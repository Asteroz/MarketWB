@using MarketWB.Web.ViewModels.Cabinet.Dashboard
@{
    Layout = "_Layout";
}
@model DashboardVM

@section css{
      <script>
      $(document).ready(function(){
        $('.chart').horizBarChart({
          selector: '.bar',
          speed: 1000
        });
      });
    </script>
}




    @await Component.InvokeAsync("DashboardHeaderComponent",new {vm = Model})

    <div class="panel box-shadow-none content-header">
        <div class="panel-body">
            <div class="col-md-12">
                <h3 class="animated fadeInLeft">Дашборд</h3>
            </div>
        </div>
    </div>
    <div class="col-md-12">

        <div class="col-md-12 padding-0">
            <a asp-action="Sales" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-cyan border-none">
                            <h4>Продажи</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                            <h4>@Model.DashboardReport.SalesCount шт.</h4>
                        </div>
                    </div>
                </div>
            </a>
            <a asp-action="Sales" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                   <div class="panel">
                      <div class="panel-heading bg-red border-none">
                        <h4>Продаж на сумму</h4>
                      </div>
                      <div class="panel-body" style="padding-bottom:10px;">
                        <h4>@Math.Round(Model.DashboardReport.SalesSum,0) ₽</h4>
                      </div>
                   </div>
                </div>
             </a>
            <a asp-action="Orders" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-blue border-none">
                            <h4>Заказы</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                            <h4>@Model.DashboardReport.OrdersCount шт.</h4>
                        </div>
                    </div>
                </div>
            </a>
            <a asp-action="Orders" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-gray-600 border-none">
                            <h4>Заказов на сумму</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                            <h4>@Math.Round(@Model.DashboardReport.OrdersSum,0) ₽</h4>
                        </div>
                    </div>
                </div>
            </a>
        </div>

        <div class="col-md-12 padding-0">
             <a asp-action="Returns" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-green border-none">
                            <h4>Возвраты</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                            <h4>@Model.DashboardReport.ReturnsCount шт.</h4>
                        </div>
                    </div>
                </div>
            </a>
            <a asp-action="Returns" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-red border-none">
                            <h4>Возвратов на сумму</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                            <h4>@Math.Round(@Model.DashboardReport.ReturnsSum,0) ₽</h4>
                        </div>
                    </div>
                </div>
             </a>
             <a asp-action="Cancels" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-teal border-none">
                            <h4>Отмены</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                             <h4>@Model.DashboardReport.CancelsCount шт.</h4>
                        </div>
                    </div>
                </div>
            </a>
            <a asp-action="Cancels" asp-controller="Dashboard">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="panel">
                        <div class="panel-heading bg-pink border-none">
                            <h4>Отмен на сумму</h4>
                        </div>
                        <div class="panel-body" style="padding-bottom:10px;">
                            <h4>@Math.Round(@Model.DashboardReport.CancelsSum,0) ₽</h4>
                        </div>
                    </div>
                </div>
            </a>
        </div>

        <div class="col-md-12 padding-0">
            <div class="col-md-3 col-sm-6 col-xs-6">
                <div class="panel">
                    <div class="panel-heading bg-green border-none">
                        <h4>Прибыль</h4>
                    </div>
                    <div class="panel-body" style="padding-bottom:10px;">
                        <h4>@Math.Round(@Model.DashboardReport.Profit,0) ₽</h4>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6">
                <div class="panel">
                    <div class="panel-heading bg-red border-none">
                        <h4>Маржинальность</h4>
                    </div>
                    <div class="panel-body" style="padding-bottom:10px;">
                        <h4>@Math.Round(@Model.DashboardReport.Marginality,1) %</h4>
                    </div>
                </div>
            </div>
             <div class="col-md-3 col-sm-6 col-xs-6">
               @* <div class="panel">
                    <div class="panel-heading bg-pink border-none">
                        <h4>Продажи за день</h4>
                    </div>
                    <div class="panel-body" style="padding-bottom:10px;">
                         <h4>@Model.DashboardReport.SalesCountToday шт.</h4>
                         <h4>@Model.DashboardReport.SalesSumToday ₽</h4>
                    </div>
                </div>*@
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6">
                <div class="panel">
                    <div class="panel-heading bg-pink border-none">
                        <h4>Продажи - возврат</h4>
                    </div>
                    <div class="panel-body" style="padding-bottom:10px;">
                  @*       <h4>@(Model.DashboardReport.SalesCount - Model.DashboardReport.ReturnsCount) шт.</h4>*@
                         <h4>@(Math.Round(Model.DashboardReport.SalesSum - Model.DashboardReport.ReturnsSum,0)) ₽</h4>
                    </div>
                </div>
            </div>
        </div>


@*
        <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading bg-white border-none" style="padding:20px;">
                    <div class="col-md-6 col-sm-6 col-sm-12 text-left">
                        <h4>Line Chart</h4>
                    </div>
                    <div class="col-md-6 col-sm-6 col-sm-12">
                        <div class="mini-onoffswitch pull-right onoffswitch-danger" style="margin-top:10px;">
                            <input type="checkbox" name="onoffswitch2" class="onoffswitch-checkbox" id="myonoffswitch1" checked>
                            <label class="onoffswitch-label" for="myonoffswitch1"></label>
                        </div>
                    </div>
                </div>
                <div class="panel-body" style="padding-bottom:50px;">
                    <div id="canvas-holder1">
                        <canvas class="line-chart" style="margin-top:30px;height:200px;"></canvas>
                    </div>
                    <div class="col-md-12" style="padding-top:20px;">
                        <div class="col-md-4 col-sm-4 col-xs-6 text-center">
                            <h2 style="line-height:.4;">$100.21</h2>
                            <small>Total Laba</small>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-6 text-center">
                            <h2 style="line-height:.4;">2000</h2>
                            <small>Total Barang</small>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-12 text-center">
                            <h2 style="line-height:.4;">$291.1</h2>
                            <small>Total Pengeluaran</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@

     @*   <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading bg-white border-none" style="padding:20px;">
                    <div class="col-md-6 col-sm-6 col-sm-12 text-left">
                        <h4>Orders</h4>
                    </div>
                    <div class="col-md-6 col-sm-6 col-sm-12">
                        <div class="mini-onoffswitch pull-right onoffswitch-primary" style="margin-top:10px;">
                            <input type="checkbox" name="onoffswitch3" class="onoffswitch-checkbox" id="myonoffswitch3" checked>
                            <label class="onoffswitch-label" for="myonoffswitch3"></label>
                        </div>
                    </div>
                </div>
                <div class="panel-body" style="padding-bottom:50px;">
                    <div id="canvas-holder1">
                        <canvas class="bar-chart"></canvas>
                    </div>
                    <div class="col-md-12 padding-0">
                        <div class="col-md-4 col-sm-4 hidden-xs" style="padding-top:20px;">
                            <canvas class="doughnut-chart2"></canvas>
                        </div>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            <h4>Progress Produksi barang</h4>
                            <p>Sed hendrerit. Curabitur blandit mollis lacus. Duis leo. Sed libero.fusce commodo aliquam arcu..</p>
                            <div class="progress progress-mini">
                                <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
                                    <span class="sr-only">60% Complete</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@

   @*     <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading-white panel-heading">
                    <h4>Суммарная прибыль на бренд, ₽</h4>
                </div>
                <div class="panel-body">
                    <div class="col-md-12">
                        <div class="chart-horiz">
                          <!-- Actual bar chart -->
                            <ul class="chart">
                                 @foreach(var brand in Model.DashboardReport.ProfitByBrands)
                                 {     
                                     <li class="past" title="@brand.Key"><span class="bar" data-number="@brand.Value.ToString().Replace(',','.')"></span><span class="number">@brand.Value</span></li>
                                 }
        	                </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading-white panel-heading">
                    <h4>Суммарная прибыль на категорию, ₽</h4>
                </div>
                <div class="panel-body">
                    <div class="col-md-12">
                      <div class="chart-horiz">
                          <!-- Actual bar chart -->
                            <ul class="chart">
                                 @foreach(var brand in Model.DashboardReport.ProfitByCategories)
                                 {     
                                     <li class="title" title="@brand.Key"></li>
                                     <li class="past" title=""><span class="bar" data-number="@brand.Value.ToString().Replace(',','.')"></span><span class="number">@brand.Value</span></li>
                                 }
        	                </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading-white panel-heading">
                    <h4>Маржинальность на бренд, %</h4>
                </div>
                <div class="panel-body">
                    <div id="bar-chart" class="col-md-12">
                      <div class="chart-horiz">
                          <!-- Actual bar chart -->
                            <ul class="chart">               
                                @foreach(var brand in Model.DashboardReport.MarginalityByBrands)
                                {     
                                     <li class="past" title="@brand.Key"><span class="bar" data-number="@brand.Value.ToString().Replace(',','.')"></span><span class="number">@brand.Value</span></li>
                                }
        	                </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading-white panel-heading">
                    <h4>Маржинальность на категорию, %</h4>
                </div>
                <div class="panel-body">
                    <div class="col-md-12">
                        <div class="chart-horiz">
                          <!-- Actual bar chart -->
                            <ul class="chart">
                                @foreach(var brand in Model.DashboardReport.MarginalityByCategories)
                                {     
                                     <li class="past" title="@brand.Key"><span class="bar" data-number="@brand.Value.ToString().Replace(',','.')"></span><span class="number">@brand.Value</span></li>
                                }
        	                </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@

    </div>

